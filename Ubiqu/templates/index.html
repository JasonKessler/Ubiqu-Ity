{% extends "base_layout.html" %}

{% block head %}
<style type="text/css">
    body {
{#        background: orange;#}
        padding: 10px 0;
    }
    .box {
        padding: 0 20px 20px; background: #fff;
    }
    #top_row {
{#        min-height: 408px;#}
        margin-bottom: 10px;
    }
    #top_row > div {
        height: 100%;
    }
    #ubiqu_upload_progress {
        width: 35%;
{#        float: left;#}
        margin: 12px auto;
    }
    #output_content {
        height: 252px;
        overflow: auto;
    }
</style>
{% endblock %}

{% block content %}
<div class="row-fluid">
    <div id="content" class="offset2 span8 with_shadow box" style="margin-bottom: 10px">
        <div class="hero-unit" style="padding: 20px 0 0; margin-bottom: 0; text-align: center;">
            <h1>{{ app_name }} 1.0</h1>
            <small>A Visualizing English Print application from the University of Wisconsin&ndash;Madison</small>
            <p>{{ app_name }} generates <strong>statistics</strong><sup><a onclick='$("#faq4").collapse("show");' href="#faq4">4</a></sup> and <strong>web-based tagged text views</strong><sup><a onclick='$("#faq5").collapse("show");' href="#faq5">5</a></sup><br>for your <strong>text/s</strong><sup><a onclick='$("#faq1").collapse("show");' href="#faq1">1</a></sup>, using <strong>the DocuScope dictionary</strong><sup><a onclick='$("#faq2").collapse("show");' href="#faq2">2</a></sup> or <strong>your own rules</strong><sup><a onclick='$("#faq3").collapse("show");' href="#faq3">3</a></sup>.</p>
        </div>
        <hr style="margin-bottom: 0">
        <h2>Upload Files</h2>
        <form id="ubiqu_upload_form" enctype="multipart/form-data" method="POST" action="{{ url_for('upload') }}">
            <label for="Text">Text File/s (or ZIP Archive/s)<sup><a onclick='$("#faq1").collapse("show");' href="#faq1">1</a></sup></label>
            <input type="file" multiple name="Text">
            <br>
            <br>
            <label for="RulesChoice">Rules type</label>
            <div class="radio">
              <label onclick='$("#SimpleRuleInput").hide(); $("#docuscope_dictionary").show();'>
                <input type="radio" name="RulesChoice" id="rulesChoice1" value="option1" checked>
                Use DocuScope dictionary<sup><a onclick='$("#faq2").collapse("show");' href="#faq2">2</a></sup>
              </label>
              <select id="docuscope_dictionary" name="docuscope_dictionary">
                  <option value="default">Version 3.83</option>
                  <option value="old_default">Version 3.21</option>
              </select>
            </div>
            <div class="radio">
              <label onclick='$("#SimpleRuleInput").show(); $("#docuscope_dictionary").hide();'>
                <input type="radio" name="RulesChoice" id="rulesChoice2" value="option2">
                Use own rules file<sup><a onclick='$("#faq3").collapse("show");' href="#faq3">3</a></sup>
              </label>
              <input type="file" id="SimpleRuleInput" name="SimpleRule" hidden>
            </div>

            <!--<label for="SimpleRule">Rules File<sup><a onclick='$("#faq3").collapse("show");' href="#faq3">3</a></sup> <em>(No rules? We'll use <strong>the Docuscope dictionary</strong><sup><a onclick='$("#faq2").collapse("show");' href="#faq2">2</a></sup>, then.)</em></label>
            <input type="file" name="SimpleRule">-->
            <br>
            <label for="email_address">Your Email Address <em>(You will receive an email when your documents are finished.)</em></label>
            <input type="email" name="email_address" required>
            <br>
            <div id="privacy" class="alert alert-block">
                <!--<strong>Privacy Note</strong>: Please do not upload any files you do not want to be visible to others.<br><br>Access to the files generated from your uploads is <em>obfuscated</em>, yes, but it is also, technically, <strong>public</strong>. You should care about this.<br><br>Also, we are currently retaining uploaded files for debugging and testing purposes.</strong>-->
                Use of this website is subject to the <a href="{{ url_for('static', filename='TermsOfUse.pdf') }}">terms of use</a> and <a href="{{ url_for('static', filename='PrivacyPolicy.pdf') }}">privacy policy</a>.
            </div>
            <div class="buttons">
                <input id="ubiqu_upload_reset" type="reset" class="btn btn-large" style="float: left" value="Clear">
                <input id="ubiqu_upload_submit" type="submit" class="btn btn-warning btn-large" style="float: right" value="Upload">
                <div id="ubiqu_upload_progress" class="progress progress-warning"><div class="bar" style="width: 0%;"></div></div>
            </div>
        </form>
        <br>
        <small><a href="mailto:ealexand@cs.wisc.edu?subject=Feedback%20for%Ubiqu+Ity">Email Feedback About Ubiqu+Ity</a></small>
    </div>
</div>

<div class="row-fluid">
    <div id="faq" class="offset2 span8 with_shadow box" style="padding-top: 10px">
        <h2>Ubiqu+Ity FAQ</h2>
        <div class="accordion" id="faq-accordion" style="margin-bottom: 0">
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq1">
                        1. What text format/s can I upload?
                    </a>
                </div>
                <div id="faq1" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <ul>
                            <li><strong>A single plain-text file</strong> (though it seems like that would be boring)</li>
                            <li><strong>A ZIP archive</strong> containing multiple plain-text files (now we're talking)</li>
                            <li><strong>Multiple plain-text files</strong> <em>and/or</em> <strong>multiple ZIP archives</strong> (with HTML5 multi-file uploading)</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq2">
                        2. What is the DocuScope dictionary?
                    </a>
                </div>
                <div id="faq2" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>
                            DocuScope was created by <a href="http://www.cmu.edu/cas/people/kaufer_david.html">David Kaufer</a> and <a href="http://www.cmu.edu/cas/people/ishizaki_suguru.html">Suguru Ishizaki</a> in the Department of English at Carnegie Mellon University (emphasis ours):
                        </p>
                        <blockquote>DocuScope is a text analysis environment with a suite of interactive visualization tools for corpus-based rhetorical analysis. [&hellip;] <strong>David created what we call the generic (default) dictionary, consisting of over 40 million linguistic patterns of English classified into over 100 categories of rhetorical effects.</strong> Suguru designed and implemented the analysis and visualization software, which can annotate a corpus of text against any dictionary of regular strings that are classified into a hierarchy of rhetorical effects.
                        </blockquote>
                        <p>You can learn more about DocuScope, David, and Suguru here:</p>
                            <ul><li><a href="http://www.cmu.edu/hss/english/research/docuscope.html">DocuScope: Computer-aided Rhetorical Analysis - Carnegie Mellon University</a></li></ul>
                        <p>
                            The investigators and researchers of the <!--<a href="http://bridge.library.wisc.edu/Projects_Portrait_English_Lit.html">--><a href="http://vep.cs.wisc.edu">Visualizing English Print project</a> at the University of Wisconsin&ndash;Madison have partnered with David and Suguru to utilize DocuScope's dictionary of rules in our research and our tools, such as this one. At the moment, we have two versions of the dictionary available (3.83 and 3.21). We will keep our available dictionaries updated as further versions are released.
                        </p>
                    </div>
                </div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq3">
                        3. How do I specify my own rules?
                    </a>
                </div>
                <div id="faq3" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>
                            If you don't want to use the DocuScope dictionaries, Ubiqu+Ity allows you to create your own simple rules. Rules are declared in a CSV file that looks like this:
                        </p>
                        <ul>
                            <li>Column 1: <strong>Whitespace-Separated Words and Punctuation</strong></li>
                            <li>Column 2: <strong>The Rule's Name</strong></li>
                        </ul>
                        <p>Ubiqu+Ity will look for exact instances of the rules that are specified. Column headings (i.e. <code>Words, Rule</code> on the first line of the CSV file) are <em>optional</em>, but recommended.</p>
                        <p>Here's an example:</p>
                        <pre>
Words, Rule
I have a question, GenericQuestionQuery
Have you had, PresentPerfectQuery
Stand ho, ExclamatoryStatement</pre>
                        <p>
                            In the future, we will allow users to create more complex, hierarchical rule structures.
                        </p>
                    </div>
                </div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq4">
                        4. What does the CSV output look like?
                    </a>
                </div>
                <div id="faq4" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>Something like this: <a href="{{ url_for('static', filename='Ubiqu+Ity_Shakespeare-Plays_Example_Output.csv') }}">Ubiqu+Ity_Shakespeare-Plays_Example_Output.csv</a></p>
                    </div>
                </div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq5">
                        5. What does the HTML text viewer look like?
                    </a>
                </div>
                <div id="faq5" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>Here is an example HTML text viewer of Shakespeare's King Henry IV Part I, tagged with the DocuScope dictionary: <a href="{{ url_for('static', filename='Ubiqu+Ity_1_KING_HENRY_IV_Docuscope_Example_Output.html') }}">Ubiqu+Ity_1_KING_HENRY_IV_Docuscope_Example_Output.html</a></p>
                    </div>
                </div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq6">
                        6. Can I specify my own colors in the HTML text viewer?
                    </a>
                </div>
                <div id="faq6" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>Yes! The text viewer has a set of default colors that it uses when you toggle categories on and off, but specific colors can be specified through the URL.</p>
                        <p>To specify your own colors, add a question mark (?) to the end of your URL, followed by pairs of the following form: <pre><em>category-name</em><strong>=</strong><em>color</em><strong>&</strong></pre>For instance, if we were to take our example tagged version of King Henry IV and make the Emotion_Negativity tags red and the Emotion_Positivity tags blue, we would add <pre>?Emotion_Negativity=red&Emotion_Positivity=blue&</pre> to the end of our URL, like so:<pre><a href="{{ url_for('static', filename='Ubiqu+Ity_1_KING_HENRY_IV_Docuscope_Example_Output.html') }}?Emotion_Negativity=red&Emotion_Positivity=blue&">Ubiqu+Ity_1_KING_HENRY_IV_Docuscope_Example_Output.html?Emotion_Negativity=red&Emotion_Positivity=blue&</a></pre></p>
                        <p>You can also specify <a href="http://en.wikipedia.org/wiki/Web_colors">hex colors</a>:<pre><a href="{{ url_for('static', filename='Ubiqu+Ity_1_KING_HENRY_IV_Docuscope_Example_Output.html') }}?Emotion_Negativity=#FF7777&Emotion_Positivity=#7777FF&">Ubiqu+Ity_1_KING_HENRY_IV_Docuscope_Example_Output.html?Emotion_Negativity=#FF7777&Emotion_Positivity=#7777FF&</a></pre></p>
                    </div>
                </div>
            </div>

            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq7">
                        7. Are any further versions of Ubiqu+Ity planned?
                    </a>
                </div>
                <div id="faq7" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>Yes. We will soon be releasing Ubiqu+Ity 1.5, which will sport these key features:</p>
                        <ul>
                            <li>Improved interface for coloring tags that will allow users to provide weightings for tags of interest.</li>
                            <li>Interactive graphical overviews embedded within the HTML files to show rise and fall of categories and aid in easy navigation.</li>
                            <li>Improved mechanisms for full-text search within documents/corpora.</li>
                            <li>Extra metadata output, including n-gram counts across entire corpus.</li>
                            <li>The ability to define more complex rule structures.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq8">
                        8. Is the source code for Ubiqu+Ity available?
                    </a>
                </div>
                <div id="faq8" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>Yes. Ubiqu+Ity is available under the <a href="">BSD license</a>, and can be forked from <a href="https://github.com/uwgraphics/Ubiqu-Ity">GitHub</a>.</p>
                        <p>Ubiqu+Ity makes use of a number of different services, including the <a href="http://www.celeryproject.org/">Celery</a> distributed task queue and the <a href="http://www.rabbitmq.com/">RabbitMQ</a> message broker and results store. If you are interested in setting up your own installation, feel free to <a href="mailto:ealexand@cs.wisc.edu?subject=Installing%Ubiqu+Ity">contact us</a>.</p>
                    </div>
                </div>
            </div>

            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq-accordion" href="#faq9">
                        9. To whom should I email comments, ideas, and/or bug reports?
                    </a>
                </div>
                <div id="faq9" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>Please send those right to us:</p>
                        <ul><li><a href="mailto:ealexand@cs.wisc.edu?subject=Feedback%20for%Ubiqu+Ity">Email Feedback About Ubiqu+Ity</a></li></ul>
                        <p>We are also logging any system errors that might come up.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="{{ url_for("static", filename="js/Ubiqu.js") }}"></script>
{% endblock %}
